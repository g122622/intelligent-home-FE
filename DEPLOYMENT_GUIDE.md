# 远程控制面板部署指南

## 环境要求

- Node.js v22.17.1 或更高版本
- pnpm >= 9.0.0

## 已实现的功能

### 1. 设备统一控制界面
- **设备列表视图**: 支持按房间/类型（灯光、空调、窗帘等）分类展示
- **单个设备控制**: 支持开关、调光、调温、风扇档位、窗帘位置调节
- **实时状态更新**: WebSocket 实时同步设备状态

### 2. 设备分组控制
- **创建/编辑设备组**: 如"客厅照明"、"夜间模式"
- **一键控制**: 支持整个组的开关或预设状态控制

### 3. 场景模式管理
- **预设场景**: "回家"、"离家"、"观影"等一键触发
- **自定义场景**: 支持选择触发动作与设备状态组合
- **实时反馈**: 场景执行状态实时显示

### 4. 设备状态实时同步
- **WebSocket 协议**: 实现实时状态更新
- **即时UI更新**: 状态变更在UI上即时体现，无操作-刷新延迟

### 5. 移动端适配
- **响应式设计**: 适配手机、平板、PC
- **离线缓存**: 支持APP端离线缓存最近状态，网络恢复后同步

## 文件结构

```
src/
├── api/device.ts              # 设备相关API接口
├── store/modules/device.ts    # Pinia设备状态管理
├── router/modules/device.ts   # 路由配置
├── views/device/              # 设备控制相关页面
│   ├── control/               # 设备控制面板
│   ├── groups/                 # 设备分组管理
│   └── scenes/                 # 场景模式管理
└── mock/device.ts             # 模拟数据

```

## 安装步骤

1. **安装 Node.js v22.17.1**
   ```bash
   # 使用 nvm 安装
   nvm install 22.17.1
   nvm use 22.17.1
   ```

2. **安装 pnpm**
   ```bash
   npm install -g pnpm
   ```

3. **安装依赖**
   ```bash
   pnpm install
   ```

4. **启动开发服务器**
   ```bash
   pnpm dev
   ```

## 访问路径

- **设备控制面板**: `/device/control`
- **设备分组管理**: `/device/groups`  
- **场景模式管理**: `/device/scenes`

## 模拟数据

项目已配置完整的模拟数据，包括：
- 7个不同类型的设备（灯光、空调、窗帘、传感器、开关）
- 2个设备分组（客厅照明、夜间模式）
- 3个预设场景（回家模式、离家模式、观影模式）
- 3个房间信息

## 技术栈

- **前端框架**: Vue 3 + TypeScript
- **构建工具**: Vite
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **路由管理**: Vue Router
- **HTTP客户端**: Axios
- **实时通信**: WebSocket
- **样式处理**: Tailwind CSS + SCSS

## 注意事项

1. 确保使用正确的 Node.js 版本（v22.17.1）
2. 必须使用 pnpm 包管理器
3. 模拟数据已配置，可直接测试功能
4. 生产环境需要配置真实的设备API接口